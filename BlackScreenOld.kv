#:kivy 0.5.5
<WindowManager>:
    transition: FallOutTransition()
    Screen1:
        id: Dummy
        name:'DummyScreen'
    Screen2:
        id: First
        name: 'FirstPage'
    Screen3:
        id: Back
        name: 'BackPage'

<DummyScreen>:
    GridLayout:
        cols:1
        size:root.width,root.height
        Label:
            id:dm
            name:"DM"
            size:root.width,root.height
            canvas.before:
                Color:
                    rgba:55/255, 215/255, 255/255, 1
                Rectangle:
                    size:self.size
                    pos:self.pos

<BackPage>:
    GridLayout:
        cols:1
        size:root.width-100,root.height-100
        #pos:50,50
        background_color:

        Label:
            id:cl
            name:"CL"
            size:root.width,root.height
            #background_color: root.manager.get_screen("FirstPage").slider.value/255, root.manager.get_screen("FirstPage").slider.value/255, root.manager.get_screen("FirstPage").slider.value/255, 1
            text:"Test"
            canvas.before:
                Color:
                    rgba:55/255, 215/255, 255/255, 1
                    #rgba:root.manager.screens[0].ids.slider.value/255, root.manager.screens[0].ids.slider.value/255, root.manager.screens[0].ids.slider.value/255, 1#self.background_color
                Rectangle:
                    size:self.size
                    pos:self.pos


<FirstPage>:
    slider:slider
    qc:qc
    sw:sw
    GridLayout:
        cols:1
        size:root.width-100,root.height-100
        #pos:50,50
        spacing: '20dp'
        padding: 20, 10

        Label:
            text:'Set Color'
            color:0,0,0,1
            font_size:20
        Slider:
            id: slider
            min: 0
            max: 150
            step: 1
            orientation: 'horizontal'
            #on_value:
                #root.manager.get_screen('BackPage').cl.text=str(self.value)
            
        Label:
            #outline_color: 5, 5, 5, 1
            size:root.width-100,root.height*.25
            background_color: slider.value/255, slider.value/255, slider.value/255, 1

            canvas.before:
                Color:
                    rgba:slider.value/255, slider.value/255, slider.value/255, 1#self.background_color
                Rectangle:
                    size:self.size
                    pos:self.pos
                    
        
        GridLayout:
            cols:2
            spacing: '20dp'
            width:root.width-100
            Button:
                id:qc
                text:'Quick Change'
                on_press:root.quickchange()
                background_normal: ''
                background_color: 55/255, 215/255, 255/255, 1
            Button:
                id:sw
                text:'Set wallpaper'
                background_normal: ''
                background_color: 55/255, 215/255, 255/255, 1
        